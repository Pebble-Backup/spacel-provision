{
  "name": "http-env-echo",
  "health_check": "HTTP:80/",
  "instance_type": "t2.nano",
  "instance_min": 1,
  "instance_max": 1,
  "services": {
    "http-env-echo": {
      "image": "pwagner/http-env-echo",
      "ports": {
        "80": 8080
      }
    }
  },
  "public_ports": {
    "80": {
      "sources": ["0.0.0.0/0"]
    }
  },
  "alarms": {
    "endpoints": {
      "emailpete": {
        "type": "email",
        "addresses": ["pwagner@pebble.com"]
      }
    },
    "triggers": {
      "HighCpu": {
        "metric": "EC2/CPUUtilization",
        "threshold": ">85",
        "duration": "10x60",
        "endpoints": ["emailpete"]
      },
      "LotsOf400": {
        "metric": "backend4xx",
        "threshold": ">1",
        "duration": "1x60",
        "endpoints": ["emailpete"]
      },
      "TooSlow": {
        "metric": "latency",
        "threshold": ">10",
        "duration": "3x60",
        "endpoints": ["emailpete"]
      }
    }
  }
}
